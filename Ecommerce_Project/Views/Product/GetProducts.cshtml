@model Ecommerce_Project.ViewModels.Search
@{
    ViewData["Title"] = "GetProducts";
    List<Product> products = ViewBag.products;
    SelectList CategoriesOptions = new SelectList(ViewBag.Categories,"Id","Name");
}

<br/>

<div class="row">
    <div class="form-inline">
        <form asp-action="GetProducts">
            <div class="form-group" style="margin:3px">
                <input asp-for="Name" class="form-control" placeholder = "Name" />
                <span asp-validation-for="Name" class="text-danger"></span>
            </div>
            <div class="form-group" style="margin:3px">
                <input asp-for="MinPrice" class="form-control" placeholder = "Min Price" />
                <span asp-validation-for="MinPrice" class="text-danger"></span>
            </div>
            <div class="form-group" style="margin:3px">
                <input asp-for="MaxPrice" class="form-control" placeholder = "Min Price" />
                <span asp-validation-for="MaxPrice" class="text-danger"></span>
            </div>
            <div class="form-group" style="margin:3px">
                <select asp-for="CategoryId" class ="form-control" asp-items= "CategoriesOptions" style="appearance:listbox"></select>
            </div>
            <div class="form-group" style="margin:3px">
                <input type="submit" value="Search" class="btn btn-primary" style="background-color: #f26522; border-color:#f26522 "/>
            </div>
        </form>
    </div>
</div>
<br />

<div style="display: grid; grid-template-columns: 1fr 1fr 1fr; grid-gap: 20px;">
    @foreach(Product product in products)
    {
        <div class="card" style="">
            <img class="card-img-top" src="/Images/Product/@product.Image" alt="Card image cap" style="width:auto;height:auto; max-width:100%; max-height:325px; display: block; margin: auto;">
            <div class="card-body">
                @Html.ActionLink(@product.Title,"ProductDetails","Product",new {id = product.Id})
                <p class="card-text" style="color:green">$@product.Price</p>
            </div>
        </div>
    }

</div>